@model sokoban.Models.GameBoard

@{
    ViewBag.Title = "Game Board";
}

<h2>Mike's Sokoban Game</h2>
<div>
    <div class="square container col-md-2 col-xs-4"><span>Open Space = </span> 
        <div class="legend Open">
            <div class="piece None"></div>
        </div>
    </div>
   <div class="square container col-md-2 col-xs-4">Man = 
       <div class="legend Open">
           <div class="piece Man"><img class="piece" width="50" height="50" src="~/Content/man.png"/></div>
       </div>
    </div>
    <div class="square container col-md-2 col-xs-4">Crate = 
        <div class="legend Storage">
            <div class="piece Crate"><img class="piece" width="40" src="~/Content/crate.jpg" /></div>
        </div>
    </div>
    <div class="square col-md-2 col-xs-4">Storage Spot = 
        <div class="legend Storage container">
            <div class="piece None"></div>
        </div>
    </div>
    <div class="square col-md-2 col-xs-4">Impassable Wall = 
        <div class="legend Wall container">
            <div class="piece None"></div>
        </div>
    </div>
</div>
<div class="separator"></div>
<br/>
@{
    for (int i = 0; i < Model.Map.GetLength(0); i++)
    {
        for (int j = 0; j < Model.Map.GetLength(1); j++)
        {
            
             
                <div class="square col-md-2 col-xs-4 @Model.Map[i,j].Space ">
                    <div class="piece">
                        @if (Model.Map[i, j].Piece == "Man")
                        {
                            <img class="piece" width="50" height="50" src="~/Content/man.png" />
                        }
                        @if (Model.Map[i, j].Piece == "Crate")
                        {
                            <img class="piece" width="50" height="50" src="~/Content/crate.jpg" />
                        }
                    </div>
                </div>
               
                }
        <br/>
                }
                }

@section scripts
    {
    <script>
        document.addEventListener('keydown', function (event) {
            if (event.keyCode == 38) {
                location.href = '/board/move/up';
            }
            if (event.keyCode == 40) {
                location.href = '/board/move/down';
            }
            if (event.keyCode == 39) {
                location.href = '/board/move/right';
            }
            if (event.keyCode == 37) {
                location.href = '/board/move/left';
            }
        });
    </script>
    }